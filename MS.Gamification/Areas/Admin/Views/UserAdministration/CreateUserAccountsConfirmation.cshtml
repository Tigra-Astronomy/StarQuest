@model BatchOperationConfirmationViewModel

@{
    ViewBag.Title = "Batch Operation Results";
    var hiddenIfEmpty = Model.FailedTotal == 0 ? "display: none;" : string.Empty;
}

<h2>Batch Operation Results</h2>
<div class="panel panel-primary">
    <div class="panel-heading">
        <h4>@Model.OperationDescription Results</h4>
    </div>
    <div class="panel-body">
        <div class="alert alert-success" role="alert">
            <i class="fa fa-check-circle"></i>
            <span class="badge">@Model.SucceededTotal</span>
            created successfully
        </div>
        <div class="alert alert-danger" role="alert" style="@hiddenIfEmpty">
            <i class="fa fa-times-circle"></i>
            <span class="badge">@Model.FailedTotal</span>
            not created
        </div>
    </div>
</div>
<div class="panel panel-danger" style="@hiddenIfEmpty">
    <div class="panel-heading">
        <h4 >Failures</h4>
    </div>

    <div class="panel-body">
        <table class="table table-striped table-bordered">
            <thead>
            <tr>
                <th>Email</th>
                <th>Reason for failure</th>
            </tr>
            </thead>
            <tbody>
            @foreach (var key in Model.FailedAddresses.Keys)
                {
                <tr>
                    <td>@key</td>
                    <td>@Model.FailedAddresses[key]</td>
                </tr>
                }
            </tbody>
        </table>
        @*<p>
            <a class="btn btn-default" href="@Url.Action("CreateUserAccounts")" style="@hiddenIfEmpty">
                Retry failed items <i class="fa fa-angle-double-right"></i>
            </a>
        </p>*@
    </div>
</div>